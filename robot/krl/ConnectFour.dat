&ACCESS RVP
&REL 8
&PARAM DISKPATH = KRC:\R1\Program
DEFDAT  connectfour

;; ------------------------------------------------------------------
;; api related variables:
;;
;; SYNC_VAR: Synchronization variable for communication between robot and computer
;;
;; - Even value  : Robot is allowed to execute its task
;;                 After finishing, the robot increments SYNC_VAR by 1
;; - Odd value   : Robot waits. Computer may read/write commands
;;                 Computer increments SYNC_VAR by 1 when ready
;;
;; CELL_SEL: Cell selection command variable
;; 
;; - Default value: -1 (No action)
;; - Value 0      : Draw the game field
;; - Value 1..42  : Draw a cross in the selected cell (cell index mapping predefined)
;;
;; Notice !!! 
;;    Both lines must be placed in config file
;;    INT CELL_SEL = -1
;;    INT SYNC_VAR = 0
;; ------------------------------------------------------------------

; the game field origin position
DECL REAL origin_x=0.0
DECL REAL origin_y=0.0

; drawing height and safe clearance height
DECL REAL z_draw=-16.0000
DECL REAL z_safe=5.00000

; modulo assertion
INT mod_assert=1

; the return value of modulo function
DECL INT mod_result

; number of colomns and rows of the game field
DECL INT cols=6
DECL INT rows=7

; game field attributes
DECL INT row
DECL INT col
DECL INT cell_num
DECL REAL board_width
DECL REAL board_height

; cell width and height
DECL REAL cell_size=10.00000

; cell center coordinate
DECL REAL cx
DECL REAL cy
DECL REAL r

; variables to draw the game field
DECL FRAME pos0
DECL FRAME pos1
DECL FRAME pos2
DECL FRAME p_start

; iteration variable
DECL INT idx

ENDDAT